/*
DARK MODE STYLES
--------------------------------------------------
TABLE OF CONTENTS:
--------------------------------------------------
1.0 GLOBAL STYLES
    1.1 Body & General Text
2.0 LAYOUT COMPONENTS
    2.1 Sidebar
        2.1.1 General
        2.1.2 AI List
        2.1.3 AI Icon
    2.2 Main Content Area
    2.3 Control Bar
    2.4 Layout Controls
    2.5 Active Chats Sidebar
3.0 GENERAL UI COMPONENTS
    3.1 Panels (General)
        3.1.1 AI Panel
        3.1.2 Panel Header (General)
        3.1.3 Panel Body (General)
        3.1.4 Panel Input Area (General)
    3.2 Buttons
        3.2.1 Icon Buttons (.btn-icon) & Control Buttons (.btn-control)
        3.2.2 Layout Buttons (.btn-layout)
        3.2.3 Panel Header Buttons
    3.3 Forms
        3.3.1 Form Controls (.form-control)
        3.3.2 Input Group Text (.input-group-text)
4.0 CHAT COMPONENTS
    4.1 Chat Container (#chat-container)
    4.2 Welcome Screen & Icon (.welcome-icon)
    4.3 Chat Window (.chat-window)
        4.3.1 Chat Header (.chat-header)
        4.3.2 Chat Title Icon (.chat-title i:first-child)
        4.3.3 Chat Controls (.chat-control-btn, .chat-close-btn)
    4.4 Model Selector
        4.4.1 Model Changeable Hover (.model-changeable:hover)
        4.4.2 Model Dropdown (.model-dropdown)
        4.4.3 Model Option Hover (.model-option:hover)
        4.4.4 Model Option Selected (.model-option.selected)
        4.4.5 Model Option Icon (.model-option i)
    4.5 Messages Area
        4.5.1 Messages Container Scrollbar (.messages-container)
        4.5.2 User Message (.user-message .message-content)
        4.5.3 AI Message (.ai-message .message-content)
        4.5.4 AI Model Indicator (.ai-model-indicator)
    4.6 Message Input
        4.6.1 Message Input Container (.chat-input-container)
        4.6.2 Message Input Group (.chat-input-group)
        4.6.3 Message Input Field (.message-input)
        4.6.4 Chat Send Button (.chat-send-btn)
    4.7 Active Chats Dropdown
        4.7.1 Dropdown Item (#active-chats-dropdown-menu .list-group-item)
        4.7.2 Dropdown Item Hover
        4.7.3 Started Chat Item (.active-chat-item--started)
        4.7.4 Rendered Inactive Chat Item (.active-chat-item--rendered-inactive)
--------------------------------------------------
*/

/* ==================================================
   1.0 GLOBAL STYLES
   ================================================== */

/* 1.1 Body & General Text
   -------------------------------------------------- */
body.dark-mode {
    background-color: var(--gray-900);
    color: var(--gray-100);
}

/* ==================================================
   2.0 LAYOUT COMPONENTS
   ================================================== */

/* 2.1 Sidebar
   -------------------------------------------------- */
/* 2.1.1 General */
body.dark-mode #sidebar {
    background-color: var(--gray-800);
    border-color: var(--gray-700);
}

body.dark-mode .sidebar-header,
body.dark-mode .sidebar-footer {
    border-color: var(--gray-700);
}

/* 2.1.2 AI List */
body.dark-mode #ai-list .list-group-item {
    color: var(--gray-300);
}

body.dark-mode #ai-list .list-group-item:hover:not(.active) {
    background-color: var(--gray-700);
    color: white;
}

/* 2.1.3 AI Icon */
body.dark-mode .ai-icon {
    background-color: rgba(255, 255, 255, 0.1);
}

/* 2.2 Main Content Area
   -------------------------------------------------- */
body.dark-mode main {
    background-color: var(--gray-800);
}

/* 2.3 Control Bar
   -------------------------------------------------- */
body.dark-mode #control-bar {
    background-color: rgba(30, 35, 45, 0.9);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
}

/* ==================================================
   3.0 GENERAL UI COMPONENTS
   ================================================== */

/* 3.1 Panels (General)
   -------------------------------------------------- */
/* 3.1.1 AI Panel */
body.dark-mode .ai-panel { 
    background-color: var(--gray-800);
    border-color: var(--gray-700);
}

/* 3.1.2 Panel Header (General) */
body.dark-mode .panel-header { 
    border-color: var(--gray-700);
    background-color: var(--gray-800); 
}

/* 3.1.3 Panel Body (General) */
body.dark-mode .panel-body {
    background-color: var(--gray-800);
}

/* 3.1.4 Panel Input Area (General) */
body.dark-mode .panel-input-area {
    background-color: var(--gray-800);
    border-color: var(--gray-700);
}

/* 3.2 Buttons
   -------------------------------------------------- */
body.dark-mode .btn-icon,
body.dark-mode .btn-control {
    background-color: rgba(30, 30, 30, 0.5); 
    border-color: rgba(255, 255, 255, 0.05); 
    color: var(--gray-300);
}

body.dark-mode .btn-icon:hover,
body.dark-mode .btn-control:hover {
    background-color: rgba(40, 40, 40, 0.7);
    border-color: rgba(255, 255, 255, 0.1);
    color: white;
}

/* 3.2.2 Layout Buttons (.btn-layout) */
body.dark-mode .btn-layout {
    background-color: rgba(30, 30, 30, 0.5); 
    border-color: rgba(255, 255, 255, 0.05);
    color: var(--gray-400);
}

body.dark-mode .btn-layout:hover {
    background-color: rgba(40, 40, 40, 0.7);
    color: white;
}

body.dark-mode .btn-layout.active {
    background-color: var(--primary);
    color: white; /* Ensuring contrast */
}

/* 3.2.3 Panel Header Buttons */

body.dark-mode .panel-header .btn {
    background-color: var(--gray-700); 
    color: var(--gray-300);
}

body.dark-mode .panel-header .btn:hover {
    background-color: var(--gray-600);
    color: white;
}

/* 3.3 Forms
   -------------------------------------------------- */
/* 3.3.1 Form Controls (.form-control) */
body.dark-mode .form-control {
    background-color: var(--gray-700);
    border-color: var(--gray-600);
    color: var(--gray-200);
}

body.dark-mode .form-control::placeholder {
    color: var(--gray-400);
}

/* 3.3.2 Input Group Text (.input-group-text) */
body.dark-mode .input-group-text {
    background-color: var(--gray-700);
    border-color: var(--gray-600);
    color: var(--gray-400);
}

/* ==================================================
   4.0 CHAT COMPONENTS
   ================================================== */

/* 4.1 Chat Container (#chat-container)
   -------------------------------------------------- */
body.dark-mode #chat-container {
    background-color: var(--bg-dark);
}

/* 4.2 Welcome Screen & Icon (.welcome-icon)
   -------------------------------------------------- */
body.dark-mode .welcome-icon {
    background: linear-gradient(135deg, var(--primary-dark), var(--primary));
    box-shadow: 0 10px 25px rgba(30, 50, 100, 0.3);
}

/* 4.3 Chat Window (.chat-window)
   -------------------------------------------------- */
body.dark-mode .chat-window {
    background-color: var(--surface-dark);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* 4.3.1 Chat Header (.chat-header) */
body.dark-mode .chat-header {
    background-color: rgba(30, 35, 45, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

/* 4.3.2 Chat Title Icon (.chat-title i:first-child) */
body.dark-mode .chat-title i:first-child {
    color: var(--primary-light);
}

/* 4.3.3 Chat Controls (.chat-control-btn, .chat-close-btn) */
body.dark-mode .chat-control-btn {
    color: var(--gray-400);
}

body.dark-mode .chat-control-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--gray-200);
}

body.dark-mode .chat-close-btn:hover {
    background-color: rgba(220, 53, 69, 0.2);
    color: var(--red-light);
}

/* 4.4 Model Selector
   -------------------------------------------------- */
/* 4.4.1 Model Changeable Hover (.model-changeable:hover) */
body.dark-mode .model-changeable:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

/* 4.4.2 Model Dropdown (.model-dropdown) */
body.dark-mode .model-dropdown {
    background-color: rgba(30, 35, 45, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* 4.4.3 Model Option Hover (.model-option:hover) */
body.dark-mode .model-option:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

/* 4.4.4 Model Option Selected (.model-option.selected) */
body.dark-mode .model-option.selected {
    background-color: rgba(82, 116, 229, 0.2);
}

/* 4.4.5 Model Option Icon (.model-option i) */
body.dark-mode .model-option i {
    color: var(--primary-light);
}

/* 4.5 Messages Area
   -------------------------------------------------- */
/* 4.5.1 Messages Container Scrollbar (.messages-container) */
body.dark-mode .messages-container {
    scrollbar-color: var(--gray-700) var(--surface-dark);
}

body.dark-mode .messages-container::-webkit-scrollbar-thumb {
    background-color: var(--gray-700);
}

body.dark-mode .messages-container::-webkit-scrollbar-track {
    background: var(--surface-dark);
}

/* 4.5.2 User Message (.user-message .message-content) */
body.dark-mode .user-message .message-content {
    background-color: var(--primary-dark);
    color: white;
}

/* 4.5.3 AI Message (.ai-message .message-content) */
body.dark-mode .ai-message .message-content {
    background-color: var(--gray-700);
    color: var(--gray-200);
}

/* 4.5.4 AI Model Indicator (.ai-model-indicator) */
body.dark-mode .ai-model-indicator {
    background-color: rgba(82, 116, 229, 0.2);
    color: var(--primary-light);
}

/* 4.6 Message Input
   -------------------------------------------------- */
/* 4.6.1 Message Input Container (.chat-input-container) */
body.dark-mode .chat-input-container {
    background-color: rgba(30, 35, 45, 0.9);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* 4.6.2 Message Input Group (.chat-input-group) */
body.dark-mode .chat-input-group {
    background-color: var(--surface-dark);
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

body.dark-mode .chat-input-group:focus-within {
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

/* 4.6.3 Message Input Field (.message-input) */
body.dark-mode .message-input {
    background-color: var(--gray-700);
    color: var(--gray-100);
    border-color: var(--gray-600);
}

body.dark-mode .message-input::placeholder {
    color: var(--gray-400);
}

body.dark-mode .message-input:focus {
    border-color: var(--primary-dark);
    box-shadow: 0 0 0 0.2rem rgba(var(--primary-rgb), 0.3);
}

/* 4.6.4 Chat Send Button (.chat-send-btn) */
body.dark-mode .chat-send-btn {
    color: var(--primary-light);
}

body.dark-mode .chat-send-btn:hover {
    background-color: rgba(82, 116, 229, 0.2);
}

/* Dark Mode Adjustments */
body.dark-mode #active-chats-dropdown-menu .list-group-item {
    color: var(--text-color-dark);
}

body.dark-mode #active-chats-dropdown-menu .list-group-item:hover {
    background-color: rgba(255, 255, 255, 0.08);
}

body.dark-mode .active-chat-item--started {
    color: var(--text-color-dark) !important;
    border: 1px solid var(--text-color-dark); /* White/light border in dark mode */
    background-color: rgba(255,255,255, 0.05);
}

body.dark-mode .active-chat-item--rendered-inactive {
    color: var(--text-muted-dark) !important;
}

/* Dark mode adjustments */
body.dark-mode {
    background: linear-gradient(135deg, #1a1f2c, #121620);
    background-attachment: fixed;
}

body.dark-mode main {
    background-color: rgba(25, 30, 40, 0.3);
}

body.dark-mode #control-bar {
    background-color: rgba(20, 25, 35, 0.5);
    border-color: rgba(255, 255, 255, 0.05);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
}

body.dark-mode .layout-controls {
    background-color: rgba(30, 35, 45, 0.5);
    border-color: rgba(255, 255, 255, 0.05);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}


/* Dark mode adjustments */
body.dark-mode #sidebar {
    background-color: rgba(25, 30, 40, 0.5);
    border-color: rgba(255, 255, 255, 0.05);
}

body.dark-mode .sidebar-header,
body.dark-mode .sidebar-footer {
    border-color: rgba(255, 255, 255, 0.05);
}

body.dark-mode .sidebar-search .input-group-text,
body.dark-mode .sidebar-search .form-control {
    background-color: rgba(40, 40, 40, 0.7);
    border-color: rgba(255, 255, 255, 0.05);
    color: var(--gray-300);
}

body.dark-mode .sidebar-search .form-control::placeholder {
    color: var(--gray-500);
}

body.dark-mode #ai-list .list-group-item {
    background-color: rgba(30, 35, 45, 0.5);
    border-color: rgba(255, 255, 255, 0.05);
    color: var(--gray-400);
}

body.dark-mode #ai-list .list-group-item.active {
    background-color: var(--primary);
    color: white;
}

body.dark-mode #ai-list .list-group-item:hover:not(.active) {
    background-color: rgba(40, 45, 55, 0.7);
    color: white;
}

body.dark-mode .ai-icon {
    background: linear-gradient(135deg, rgba(62, 99, 221, 0.6), rgba(41, 73, 182, 0.6));
    border-color: rgba(255, 255, 255, 0.1);
}

body.dark-mode .sidebar-heading {
    color: var(--gray-400);
}
