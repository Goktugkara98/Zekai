{% extends 'admin/layout.html' %}
{% block page_header_title %}<h1>Marka / Logo</h1>{% endblock %}
{% block page_header_subtitle %}<p class="text-muted">Sidebar logo ayarları</p>{% endblock %}
{% block content %}
<div class="row g-4">
  <div class="col-12 col-lg-8">
    <div class="card shadow-sm">
      <div class="card-header d-flex align-items-center justify-content-between">
        <h5 class="mb-0"><i class="fas fa-swatchbook me-2 text-primary"></i>Marka Ayarları</h5>
        <button id="btnSaveBranding" type="button" class="btn btn-primary btn-sm" onclick="saveBranding(event)">
          <i class="fas fa-save me-1"></i> Kaydet
        </button>
      </div>
      <div class="card-body">
        <form id="brandingForm" onsubmit="return saveBranding(event)">
          <div class="row g-3">
            <div class="col-12 col-md-6">
              <label class="form-label">Açık Tema Kenarlık Rengi</label>
              <input type="color" class="form-control form-control-color" id="border_color_light" value="#e5e7eb" title="Açık tema kenarlık rengi" onchange="applyLivePreview()" />
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Koyu Tema Kenarlık Rengi</label>
              <input type="color" class="form-control form-control-color" id="border_color_dark" value="#243049" title="Koyu tema kenarlık rengi" onchange="applyLivePreview()" />
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Logo Yükle</label>
            <div class="d-flex align-items-center gap-3">
              <img id="logoPreview" src="" alt="Logo" style="width:48px;height:48px;object-fit:contain;border-radius:8px;border:1px solid #e5e7eb;display:none;" />
              <input class="form-control" type="file" id="logo_file" accept=".png,.jpg,.jpeg,.svg,.webp,.gif" style="max-width:360px;" />
              <button type="button" class="btn btn-outline-primary" onclick="uploadLogo()">
                <i class="fas fa-upload me-1"></i> Yükle
              </button>
            </div>
            <div class="form-text">Desteklenen türler: PNG, JPG, SVG, WEBP, GIF</div>
          </div>

        </form>
      </div>
    </div>
  </div>

  <div class="col-12 col-lg-4">
    <div class="card shadow-sm">
      <div class="card-header d-flex align-items-center justify-content-between">
        <h6 class="mb-0"><i class="fas fa-eye me-2 text-secondary"></i>Önizleme</h6>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="preview_dark_toggle" onchange="updatePreviewTheme()">
          <label class="form-check-label" for="preview_dark_toggle">Karanlık Mod</label>
        </div>
      </div>
      <div class="card-body">
        <div id="previewWrap" class="rounded p-3" style="border:1px solid #e5e7eb;background:#ffffff;">
          <div id="previewSidebarLogo" class="d-flex align-items-center gap-2" style="border-bottom:1px solid #e5e7eb;padding:14px 12px;">
            <div id="previewLogoBox" class="rounded d-flex align-items-center justify-content-center" style="border:1px solid #e5e7eb;background:#f5f7fb;border-radius:10px;width:160px;height:48px;overflow:hidden;">
              <img id="previewLogoImg" src="" alt="" style="width:100%;height:100%;object-fit:cover;display:none;" />
              <i id="previewLogoIcon" class="fas fa-robot text-muted" style="display:none;"></i>
            </div>
          </div>
          <div class="small text-muted mt-2">Sidebar alanındaki tahmini görünüm</div>
        </div>
      </div>
    </div>
  </div>
  </div>
{% endblock %}

{% block extra_scripts %}
  <script src="{{ url_for('static', filename='js/admin-branding.js') }}"></script>
{% endblock %}
